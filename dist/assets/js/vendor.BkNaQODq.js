import"kleur/colors";import{clsx as t}from"clsx";import"@astrojs/internal-helpers/path";import"cookie";import"es-module-lexer";import{escape as e}from"html-escaper";import{encodeHexUpperCase as r,encodeBase64 as n,decodeBase64 as o}from"@oslojs/encoding";import"cssesc";const s={name:"MissingMediaQueryDirective",title:"Missing value for `client:media` directive.",message:'Media query not provided for `client:media` directive. A media query similar to `client:media="(max-width: 600px)"` must be provided'},i={name:"NoMatchingRenderer",title:"No matching renderer found.",message:(t,e,r,n)=>`Unable to render \`${t}\`.\n\n${n>0?`There ${r?"are":"is"} ${n} renderer${r?"s":""} configured in your \`astro.config.mjs\` file,\nbut ${r?"none were":"it was not"} able to server-side render \`${t}\`.`:"No valid renderer was found "+(e?`for the \`.${e}\` file extension.`:"for this file extension.")}`,hint:t=>`Did you mean to enable the ${t} integration?\n\nSee https://docs.astro.build/en/guides/framework-components/ for more information on how to install and configure integrations.`},a={name:"NoClientEntrypoint",title:"No client entrypoint specified in renderer.",message:(t,e,r)=>`\`${t}\` component has a \`client:${e}\` directive, but no client entrypoint was provided by \`${r}\`.`,hint:"See https://docs.astro.build/en/reference/integrations-reference/#addrenderer-option for more information on how to configure your renderer."},c={name:"NoClientOnlyHint",title:"Missing hint on client:only directive.",message:t=>`Unable to render \`${t}\`. When using the \`client:only\` hydration strategy, Astro needs a hint to use the correct renderer.`,hint:t=>`Did you mean to pass \`client:only="${t}"\`? See https://docs.astro.build/en/reference/directives-reference/#clientonly for more information on client:only`},l={name:"NoMatchingImport",title:"No import found for component.",message:t=>`Could not render \`${t}\`. No matching import has been found for \`${t}\`.`,hint:"Please make sure the component is properly imported."},d={name:"InvalidComponentArgs",title:"Invalid component arguments.",message:t=>`Invalid arguments passed to${t?` <${t}>`:""} component.`,hint:"Astro components cannot be rendered directly via function call, such as `Component()` or `{items.map(Component)}`."},u={name:"AstroGlobUsedOutside",title:"Astro.glob() used outside of an Astro file.",message:t=>`\`Astro.glob(${t})\` can only be used in \`.astro\` files. \`import.meta.glob(${t})\` can be used instead to achieve a similar result.`,hint:"See Vite's documentation on `import.meta.glob` for more information: https://vite.dev/guide/features.html#glob-import"},p={name:"AstroGlobNoMatch",title:"Astro.glob() did not match any files.",message:t=>`\`Astro.glob(${t})\` did not return any matching files.`,hint:"Check the pattern for typos."};class h extends Error{loc;title;hint;frame;type="AstroError";constructor(t,e){const{name:r,title:n,message:o,stack:s,location:i,hint:a,frame:c}=t;super(o,e),this.title=n,this.name=r,o&&(this.message=o),this.stack=s||this.stack,this.loc=i,this.hint=a,this.frame=c}setLocation(t){this.loc=t}setName(t){this.name=t}setMessage(t){this.message=t}setHint(t){this.hint=t}setFrame(t,e){this.frame=(function(t,e){if(!e||void 0===e.line||void 0===e.column)return"";const r=(n=t,n.replace(/\r\n|\r(?!\n)|\n/g,"\n")).split("\n").map((t=>t.replace(/\t/g,"  ")));var n;const o=[];for(let t=-2;t<=2;t++)r[e.line+t]&&o.push(e.line+t);let s=0;for(const t of o){let e=`> ${t}`;e.length>s&&(s=e.length)}let i="";for(const t of o){const n=t===e.line-1;i+=n?"> ":"  ",i+=`${t+1} | ${r[t]}\n`,n&&(i+=`${Array.from({length:s}).join(" ")}  | ${Array.from({length:e.column}).join(" ")}^\n`)}return i})(t,e)}static is(t){return"AstroError"===t.type}}function f(t,e,r){const n=e?.split("/").pop()?.replace(".astro","")??"",o=(...e)=>{if(!(function(t){return 3===t.length&&!(!t[0]||"object"!=typeof t[0])})(e))throw new h({...d,message:d.message(n)});return t(...e)};return Object.defineProperty(o,"name",{value:n,writable:!1}),o.isAstroComponentFactory=!0,o.moduleId=e,o.propagation=r,o}function m(t,e,r){return"function"==typeof t?f(t,e,r):f((n=t).factory,n.moduleId,n.propagation);var n}function y(t){return{site:new URL(t),generator:"Astro v4.16.18",glob:t=>{if("string"==typeof t)throw new h({...u,message:u.message(JSON.stringify(t))});let e=[...Object.values(t)];if(0===e.length)throw new h({...p,message:p.message(JSON.stringify(t))});return Promise.all(e.map((t=>t())))}}}function g(t){return!!t&&"object"==typeof t&&"then"in t&&"function"==typeof t.then}const b=e;class w extends Uint8Array{}Object.defineProperty(w.prototype,Symbol.toStringTag,{get:()=>"HTMLBytes"});class v extends String{get[Symbol.toStringTag](){return"HTMLString"}}const A=t=>t instanceof v?t:"string"==typeof t?new v(t):t;function $(t){return"function"==typeof t.getReader}async function*S(t){if($(t))for await(const e of(async function*(t){const e=t.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)return;yield r}}finally{e.releaseLock()}})(t))yield E(e);else for await(const e of t)yield E(e)}function E(t){if(t&&"object"==typeof t){if(t instanceof Uint8Array)return new w(t);if(t instanceof Response&&t.body)return S(t.body);if("function"==typeof t.then)return Promise.resolve(t).then((t=>E(t)));if(t[Symbol.for("astro:slot-string")])return t;if(Symbol.iterator in t)return(function*(t){for(const e of t)yield E(e)})(t);if(Symbol.asyncIterator in t||$(t))return S(t)}return A(t)}const j=Symbol.for("astro:render");function C(t){return Object.defineProperty(t,j,{value:!0})}function O(t,e={},r=new WeakSet){if(r.has(t))throw new Error(`Cyclic reference detected while serializing props for <${e.displayName} client:${e.hydrate}>!\n\nCyclic references cannot be safely serialized for client-side usage. Please remove the cyclic reference.`);r.add(t);const n=t.map((t=>k(t,e,r)));return r.delete(t),n}function N(t,e={},r=new WeakSet){if(r.has(t))throw new Error(`Cyclic reference detected while serializing props for <${e.displayName} client:${e.hydrate}>!\n\nCyclic references cannot be safely serialized for client-side usage. Please remove the cyclic reference.`);r.add(t);const n=Object.fromEntries(Object.entries(t).map((([t,n])=>[t,k(n,e,r)])));return r.delete(t),n}function k(t,e={},r=new WeakSet){switch(Object.prototype.toString.call(t)){case"[object Date]":return[3,t.toISOString()];case"[object RegExp]":return[2,t.source];case"[object Map]":return[4,O(Array.from(t),e,r)];case"[object Set]":return[5,O(Array.from(t),e,r)];case"[object BigInt]":return[6,t.toString()];case"[object URL]":return[7,t.toString()];case"[object Array]":return[1,O(t,e,r)];case"[object Uint8Array]":return[8,Array.from(t)];case"[object Uint16Array]":return[9,Array.from(t)];case"[object Uint32Array]":return[10,Array.from(t)];default:return null!==t&&"object"==typeof t?[0,N(t,e,r)]:t===1/0?[11,1]:t===-1/0?[11,-1]:void 0===t?[0]:[0,t]}}function x(t,e){return JSON.stringify(N(t,e))}const M=Object.freeze(["data-astro-transition-scope","data-astro-transition-persist","data-astro-transition-persist-props"]),T="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXY",U=Symbol.for("astro.headAndContent");function L(t,e){const r=t.clientDirectives.get(e);if(!r)throw new Error(`Unknown directive: ${e}`);return r}const R=/^(area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,D=/^(?:allowfullscreen|async|autofocus|autoplay|checked|controls|default|defer|disabled|disablepictureinpicture|disableremoteplayback|formnovalidate|hidden|loop|nomodule|novalidate|open|playsinline|readonly|required|reversed|scoped|seamless|selected|itemscope)$/i,I=/^(?:contenteditable|draggable|spellcheck|value)$/i,P=/^(?:autoReverse|externalResourcesRequired|focusable|preserveAlpha)$/i,_=/&/g,H=/"/g,V=new Set(["set:html","set:text"]),W=(t,e=!0)=>e?String(t).replace(_,"&#38;").replace(H,"&#34;"):t,J=t=>Object.entries(t).filter((([t,e])=>"string"==typeof e&&e.trim()||"number"==typeof e)).map((([t,e])=>"-"!==t[0]&&"-"!==t[1]?`${(t=>t.toLowerCase()===t?t:t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`)))(t)}:${e}`:`${t}:${e}`)).join(";");function F(t){return 1===t.length?t[0]:`${t.slice(0,-1).join(", ")} or ${t[t.length-1]}`}function q(e,r,n=!0){if(null==e)return"";if(!1===e)return I.test(r)||P.test(r)?A(` ${r}="false"`):"";if(V.has(r))return"";if("class:list"===r){const o=W(t(e),n);return""===o?"":A(` ${r.slice(0,-5)}="${o}"`)}if("style"===r&&!(e instanceof v)){if(Array.isArray(e)&&2===e.length)return A(` ${r}="${W(`${J(e[0])};${e[1]}`,n)}"`);if("object"==typeof e)return A(` ${r}="${W(J(e),n)}"`)}return"className"===r?A(` class="${W(e,n)}"`):"string"==typeof e&&e.includes("&")&&(function(t){try{const e=new URL(t);return Z.includes(e.protocol)}catch{return!1}})(e)?A(` ${r}="${W(e,!1)}"`):!0===e&&(r.startsWith("data-")||D.test(r))?A(` ${r}`):A(` ${r}="${W(e,n)}"`)}function B(t,e=!0){let r="";for(const[n,o]of Object.entries(t))r+=q(o,n,e);return A(r)}function z(t,{props:e,children:r=""},n=!0){const{lang:o,"data-astro-id":s,"define:vars":i,...a}=e;return i&&("style"===t&&(delete a["is:global"],delete a["is:scoped"]),"script"===t&&(delete a.hoist,r=(function(t){let e="";for(const[n,o]of Object.entries(t))e+=`const ${r=n,r.trim().replace(/(?!^)\b\w|\s+|\W+/g,((t,e)=>/\W/.test(t)?"":0===e?t:t.toUpperCase()))} = ${JSON.stringify(o)?.replace(/<\/script>/g,"\\x3C/script>")};\n`;var r;return A(e)})(i)+"\n"+r)),null!=r&&""!=r||!R.test(t)?`<${t}${B(a,n)}>${r}</${t}>`:`<${t}${B(a,n)}>`}const G=()=>{};class Q{chunks=[];renderPromise;destination;constructor(t){this.renderPromise=t(this),Promise.resolve(this.renderPromise).catch(G)}write(t){this.destination?this.destination.write(t):this.chunks.push(t)}async renderToFinalDestination(t){for(const e of this.chunks)t.write(e);this.destination=t,await this.renderPromise}}function Y(t){return new Q(t)}"undefined"!=typeof process&&Object.prototype.toString.call(process);const Z=["http:","https:"],K=(t,e,r)=>{const n=JSON.stringify(t.props),o=t.children;return e===r.findIndex((t=>JSON.stringify(t.props)===n&&t.children==o))};function X(t){t._metadata.hasRenderedHead=!0;const e=Array.from(t.styles).filter(K).map((t=>"stylesheet"===t.props.rel?z("link",t):z("style",t)));t.styles.clear();const r=Array.from(t.scripts).filter(K).map((t=>z("script",t,!1))),n=Array.from(t.links).filter(K).map((t=>z("link",t,!1)));let o=e.join("\n")+n.join("\n")+r.join("\n");if(t._metadata.extraHead.length>0)for(const e of t._metadata.extraHead)o+=e;return A(o)}function tt(){return C({type:"head"})}function et(){return C({type:"maybe-head"})}const rt=Symbol.for("astro.renderTemplateResult");class nt{[rt]=!0;htmlParts;expressions;error;constructor(t,e){this.htmlParts=t,this.error=void 0,this.expressions=e.map((t=>g(t)?Promise.resolve(t).catch((t=>{if(!this.error)throw this.error=t,t})):t))}async render(t){const e=this.expressions.map((t=>Y((e=>{if(t||0===t)return mt(e,t)}))));for(let r=0;r<this.htmlParts.length;r++){const n=this.htmlParts[r],o=e[r];t.write(A(n)),o&&await o.renderToFinalDestination(t)}}}function ot(t,...e){return new nt(t,e)}const st=Symbol.for("astro:slot-string");class it extends v{instructions;[st];constructor(t,e){super(t),this.instructions=e,this[st]=!0}}function at(t,e,r){return!e&&r?at(t,r):{async render(r){await mt(r,"function"==typeof e?e(t):e)}}}async function ct(t,e,r){let n="",o=null;const s={write(e){if(e instanceof it)n+=e,e.instructions&&(o??=[],o.push(...e.instructions));else{if(e instanceof Response)return;"object"==typeof e&&"type"in e&&"string"==typeof e.type?(null===o&&(o=[]),o.push(e)):n+=ft(t,e)}}},i=at(t,e,r);return await i.render(s),A(new it(n,o))}async function lt(t,e={}){let r=null,n={};return e&&await Promise.all(Object.entries(e).map((([e,o])=>ct(t,o).then((t=>{t.instructions&&(null===r&&(r=[]),r.push(...t.instructions)),n[e]=t}))))),{slotInstructions:r,children:n}}const dt=Symbol.for("astro:fragment"),ut=Symbol.for("astro:renderer");new TextEncoder;const pt=new TextDecoder;function ht(t,e){if((function(t){return t&&"object"==typeof t&&t[j]})(e)){const r=e;switch(r.type){case"directive":{const{hydration:e}=r;let n=e&&(function(t){return!t._metadata.hasHydrationScript&&(t._metadata.hasHydrationScript=!0)})(t),o=e&&(function(t,e){return!t._metadata.hasDirectives.has(e)&&(t._metadata.hasDirectives.add(e),!0)})(t,e.directive),s=n?"both":o?"directive":null;if(s){let r=(function(t,e,r){switch(e){case"both":return`<style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>${L(t,r)};${"development"===process.env.NODE_ENV?'(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var l=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>y(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[h,e]=t;return h in i?i[h](e):void 0},a=t=>t.map(o),y=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([h,e])=>[h,o(e)]));class f extends HTMLElement{constructor(){super(...arguments);l(this,"Component");l(this,"hydrator");l(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},p=this.querySelectorAll("template[data-astro-template]");for(let r of p){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let u;try{u=this.hasAttribute("props")?y(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let d,m=this.hydrator(this);d=performance.now(),await m(this.Component,u,n,{client:this.getAttribute("client")}),d&&this.setAttribute("client-render-time",(performance.now()-d).toString()),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});l(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[p,{default:u}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),d=this.getAttribute("component-export")||"default";if(!d.includes("."))this.Component=p[d];else{this.Component=p;for(let m of d.split("."))this.Component=this.Component[m]}return this.hydrator=u,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}l(f,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",f)}})();':'(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();'}<\/script>`;case"directive":return`<script>${L(t,r)}<\/script>`}return""})(t,s,e.directive);return A(r)}return""}case"head":return t._metadata.hasRenderedHead||t.partial?"":X(t);case"maybe-head":return t._metadata.hasRenderedHead||t._metadata.headInTree||t.partial?"":X(t);case"renderer-hydration-script":{const{rendererSpecificHydrationScripts:e}=t._metadata,{rendererName:n}=r;return e.has(n)?"":(e.add(n),r.render())}default:throw new Error(`Unknown chunk type: ${e.type}`)}}else{if(e instanceof Response)return"";if(e[st]){let r="";const n=e;if(n.instructions)for(const e of n.instructions)r+=ht(t,e);return r+=e.toString(),r}}return e.toString()}function ft(t,e){return ArrayBuffer.isView(e)?pt.decode(e):ht(t,e)}async function mt(t,e){if(g(e)&&(e=await e),e instanceof it)t.write(e);else if(n=e,"[object HTMLString]"===Object.prototype.toString.call(n))t.write(e);else if(Array.isArray(e)){const r=e.map((t=>Y((e=>mt(e,t)))));for(const e of r)e&&await e.renderToFinalDestination(t)}else if("function"==typeof e)await mt(t,e());else if("string"==typeof e)t.write(A(b(e)));else if(e||0===e)if((r=e)&&"object"==typeof r&&"render"in r&&"function"==typeof r.render)await e.render(t);else if((function(t){return"object"==typeof t&&null!==t&&!!t[rt]})(e))await e.render(t);else if((function(t){return"object"==typeof t&&null!==t&&!!t[yt]})(e))await e.render(t);else if(ArrayBuffer.isView(e))t.write(e);else if("object"==typeof e&&(Symbol.asyncIterator in e||Symbol.iterator in e))for await(const r of e)await mt(t,r);else t.write(e);var r,n}const yt=Symbol.for("astro.componentInstance");class gt{[yt]=!0;result;props;slotValues;factory;returnValue;constructor(t,e,r,n){this.result=t,this.props=e,this.factory=n,this.slotValues={};for(const e in r){let n=!1,o=r[e](t);this.slotValues[e]=()=>n?r[e](t):(n=!0,o)}}async init(t){return void 0!==this.returnValue||(this.returnValue=this.factory(t,this.props,this.slotValues),g(this.returnValue)&&this.returnValue.then((t=>{this.returnValue=t})).catch((()=>{}))),this.returnValue}async render(t){const e=await this.init(this.result);var r;"object"==typeof(r=e)&&null!==r&&r[U]?await e.content.render(t):await mt(t,e)}}const bt="AES-GCM",wt=new TextEncoder;new TextDecoder;const vt=new Set(["server:component-path","server:component-export","server:component-directive","server:defer"]);function At(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/</g,"\\u003c").replace(/>/g,"\\u003e").replace(/\//g,"\\u002f")}const $t=new Map([["solid","solid-js"]]),St=new Set(["solid-js","react","preact","vue","svelte","lit"]),Et=/<\/?astro-slot\b[^>]*>/g,jt=/<\/?astro-static-slot\b[^>]*>/g;async function Ct(e,o,d,u,p={}){return g(d)&&(d=await d.catch(m)),(function(t){return t===dt})(d)?await(async function(t,e={}){const r=await ct(t,e?.default);return{render(t){null!=r&&t.write(r)}}})(e,p).catch(m):(u=(function(e){if(void 0!==e["class:list"]){const r=e["class:list"];delete e["class:list"],e.class=t(e.class,r),""===e.class&&delete e.class}return e})(u),(function(t){return t&&!0===t["astro:html"]})(d)?await(async function(t,e,r,n={}){const{slotInstructions:o,children:s}=await lt(t,n),i=e({slots:s}),a=o?o.map((e=>ft(t,e))).join(""):"";return{render(t){t.write(A(a+i))}}})(e,d,0,p).catch(m):null!=(f=d)&&!0===f.isAstroComponentFactory?(function(t,e,o,s,i={}){if((function(t){return"server:component-directive"in t})(s))return(function(t,e,o,s){return{async render(e){const i=o["server:component-path"],a=o["server:component-export"],c=t.serverIslandNameMap.get(i);if(!c)throw new Error("Could not find server component name");for(const t of Object.keys(o))vt.has(t)&&delete o[t];e.write("\x3c!--[if astro]>server-island-start<![endif]--\x3e");const l={};for(const r in s)if("fallback"!==r){const e=await ct(t,s[r]);l[r]=e.toString()}else await mt(e,s.fallback(t));const d=await t.key,u=await(async function(t,e){const o=crypto.getRandomValues(new Uint8Array(12)),s=wt.encode(e),i=await crypto.subtle.encrypt({name:bt,iv:o},t,s);return r(o)+n(new Uint8Array(i))})(d,JSON.stringify(o)),p=crypto.randomUUID(),h=t.base.endsWith("/")?"":"/",f=`${t.base}${h}_server-islands/${c}${"always"===t.trailingSlash?"/":""}`;e.write(`<script async type="module" data-island-id="${p}">\nlet componentId = ${At(c)};\nlet componentExport = ${At(a)};\nlet script = document.querySelector('script[data-island-id="${p}"]');\nlet data = {\n\tcomponentExport,\n\tencryptedProps: ${At(u)},\n\tslots: ${At(l)},\n};\n\nlet response = await fetch('${f}', {\n\tmethod: 'POST',\n\tbody: JSON.stringify(data),\n});\nif (script) {\n\tif(response.status === 200 && response.headers.get('content-type') === 'text/html') {\n\tlet html = await response.text();\n\n\t// Swap!\n\twhile(script.previousSibling &&\n\t\tscript.previousSibling.nodeType !== 8 &&\n\t\tscript.previousSibling.data !== '[if astro]>server-island-start<![endif]') {\n\t\tscript.previousSibling.remove();\n\t}\n\tscript.previousSibling?.remove();\n\n\tlet frag = document.createRange().createContextualFragment(html);\n\tscript.before(frag);\n}\nscript.remove();\n}\n<\/script>`)}}})(t,0,s,i);const a=(function(t,e,r,n,o={}){!(function(t){if(null!=t)for(const e of Object.keys(t))e.startsWith("client:")})(n);const s=new gt(t,n,o,r);return(function(t,e){let r=e.propagation||"none";return e.moduleId&&t.componentMetadata.has(e.moduleId)&&"none"===r&&(r=t.componentMetadata.get(e.moduleId).propagation),"in-tree"===r||"self"===r})(t,r)&&t._metadata.propagators.add(s),s})(t,0,o,s,i);return{async render(t){await a.render(t)}}})(e,0,d,u,p):await(async function(t,e,r,n,o={}){if(!r&&"client:only"in n==0)throw new Error(`Unable to render ${e} because it is ${r}!\nDid you forget to import the component or is it possible there is a typo?`);const{renderers:d,clientDirectives:u}=t,p={astroStaticSlot:!0,displayName:e},{hydration:f,isPage:m,props:y,propsWithoutTransitionAttributes:g}=(function(t,e){let r={isPage:!1,hydration:null,props:{},propsWithoutTransitionAttributes:{}};for(const[n,o]of Object.entries(t))if(n.startsWith("server:")&&"server:root"===n&&(r.isPage=!0),n.startsWith("client:"))switch(r.hydration||(r.hydration={directive:"",value:"",componentUrl:"",componentExport:{value:""}}),n){case"client:component-path":r.hydration.componentUrl=o;break;case"client:component-export":r.hydration.componentExport.value=o;break;case"client:component-hydration":case"client:display-name":break;default:if(r.hydration.directive=n.split(":")[1],r.hydration.value=o,!e.has(r.hydration.directive)){const t=Array.from(e.keys()).map((t=>`client:${t}`)).join(", ");throw new Error(`Error: invalid hydration directive "${n}". Supported hydration methods: ${t}`)}if("media"===r.hydration.directive&&"string"!=typeof r.hydration.value)throw new h(s)}else r.props[n]=o,M.includes(n)||(r.propsWithoutTransitionAttributes[n]=o);for(const e of Object.getOwnPropertySymbols(t))r.props[e]=t[e],r.propsWithoutTransitionAttributes[e]=t[e];return r})(n,u);let w,v="";f&&(p.hydrate=f.directive,p.hydrateArgs=f.value,p.componentExport=f.componentExport,p.componentUrl=f.componentUrl);const $=(function(t){const e=t?.split(".").pop();switch(e){case"svelte":return["@astrojs/svelte"];case"vue":return["@astrojs/vue"];case"jsx":case"tsx":return["@astrojs/react","@astrojs/preact","@astrojs/solid-js","@astrojs/vue (jsx)"];default:return["@astrojs/react","@astrojs/preact","@astrojs/solid-js","@astrojs/vue","@astrojs/svelte","@astrojs/lit"]}})(p.componentUrl),S=d.filter((t=>"astro:jsx"!==t.name)),{children:E,slotInstructions:j}=await lt(t,o);let O,N;if("only"!==p.hydrate){let e=!1;try{e=r&&r[ut]}catch{}if(e){const t=r[ut];O=d.find((({name:e})=>e===t))}if(!O){let e;for(const n of d)try{if(await n.ssr.check.call({result:t},r,y,E)){O=n;break}}catch(t){e??=t}if(!O&&e)throw e}if(!O&&"function"==typeof HTMLElement&&(function(t){return"undefined"!=typeof HTMLElement&&HTMLElement.isPrototypeOf(t)})(r)){const e=await(async function(t,e,r,n){const o=(function(t){return customElements.getName(t)||t.name.replace(/^HTML|Element$/g,"").replace(/[A-Z]/g,"-$&").toLowerCase().replace(/^-/,"html-")})(e);let s="";for(const t in r)s+=` ${t}="${W(await r[t])}"`;return A(`<${o}${s}>${await ct(t,n?.default)}</${o}>`)})(t,r,n,o);return{render(t){t.write(e)}}}}else{if(p.hydrateArgs){const t=$t.has(p.hydrateArgs)?$t.get(p.hydrateArgs):p.hydrateArgs;St.has(t)&&(O=d.find((({name:e})=>e===`@astrojs/${t}`||e===t)))}if(O||1!==S.length||(O=S[0]),!O){const t=p.componentUrl?.split(".").pop();O=d.find((({name:e})=>e===`@astrojs/${t}`||e===t))}}if(O)if("only"===p.hydrate){const e=$t.has(p.hydrateArgs)?$t.get(p.hydrateArgs):p.hydrateArgs;St.has(e),v=await ct(t,o?.fallback)}else{const e=performance.now();({html:v,attrs:w}=await O.ssr.renderToStaticMarkup.call({result:t},r,g,E,p)),"development"===process.env.NODE_ENV&&(N=performance.now()-e)}else{if("only"===p.hydrate){const t=$t.has(p.hydrateArgs)?$t.get(p.hydrateArgs):p.hydrateArgs;if(St.has(t)){const t=S.length>1;throw new h({...i,message:i.message(p.displayName,p?.componentUrl?.split(".").pop(),t,S.length),hint:i.hint(F($.map((t=>"`"+t+"`"))))})}throw new h({...c,message:c.message(p.displayName),hint:c.hint($.map((t=>t.replace("@astrojs/",""))).join("|"))})}if("string"!=typeof r){const e=S.filter((t=>$.includes(t.name))),n=S.length>1;if(0===e.length)throw new h({...i,message:i.message(p.displayName,p?.componentUrl?.split(".").pop(),n,S.length),hint:i.hint(F($.map((t=>"`"+t+"`"))))});if(1!==e.length)throw new Error(`Unable to render ${p.displayName}!\n\nThis component likely uses ${F($)},\nbut Astro encountered an error during server-side rendering.\n\nPlease ensure that ${p.displayName}:\n1. Does not unconditionally access browser-specific globals like \`window\` or \`document\`.\n   If this is unavoidable, use the \`client:only\` hydration directive.\n2. Does not conditionally return \`null\` or \`undefined\` when rendered on the server.\n\nIf you're still stuck, please open an issue on GitHub or join us at https://astro.build/chat.`);O=e[0],({html:v,attrs:w}=await O.ssr.renderToStaticMarkup.call({result:t},r,g,E,p))}}if(O&&!O.clientEntrypoint&&"@astrojs/lit"!==O.name&&p.hydrate)throw new h({...a,message:a.message(e,p.hydrate,O.name)});if(!v&&"string"==typeof r){const e=(function(t){const e=/[&<>'"\s]+/;return e.test(t)?t.trim().split(e)[0].trim():t})(r),n=Object.values(E).join(""),o=ot`<${e}${B(y)}${A(""===n&&R.test(e)?"/>":`>${n}</${e}>`)}`;v="";const s={write(e){e instanceof Response||(v+=ft(t,e))}};await o.render(s)}if(!f)return{render(t){if(j)for(const e of j)t.write(e);m||"astro:jsx"===O?.name?t.write(v):v&&v.length>0&&t.write(A((function(t,e=!0){const r=e?jt:Et;return t.replace(r,"")})(v,O?.ssr?.supportsAstroStaticSlot)))}};const k=(function(t){let e,r="",n=(function(t){let e=0;if(0===t.length)return e;for(let r=0;r<t.length;r++)e=(e<<5)-e+t.charCodeAt(r),e|=0;return e})(t);const o=n<0?"Z":"";for(n=Math.abs(n);n>=61;)e=n%61,n=Math.floor(n/61),r=T[e]+r;return n>0&&(r=T[n]+r),o+r})(`\x3c!--${p.componentExport.value}:${p.componentUrl}--\x3e\n${v}\n${x(y,p)}`),U=await(async function(t,e){const{renderer:r,result:n,astroId:o,props:s,attrs:i}=t,{hydrate:a,componentUrl:c,componentExport:d}=e;if(!d.value)throw new h({...l,message:l.message(e.displayName)});const u={children:"",props:{uid:o}};if(i)for(const[t,e]of Object.entries(i))u.props[t]=b(e);u.props["component-url"]=await n.resolve(decodeURI(c)),r.clientEntrypoint&&(u.props["component-export"]=d.value,u.props["renderer-url"]=await n.resolve(decodeURI(r.clientEntrypoint)),u.props.props=b(x(s,e))),u.props.ssr="",u.props.client=a;let p=await n.resolve("astro:scripts/before-hydration.js");return p.length&&(u.props["before-hydration-url"]=p),u.props.opts=b(JSON.stringify({name:e.displayName,value:e.hydrateArgs||""})),M.forEach((t=>{void 0!==s[t]&&(u.props[t]=s[t])})),u})({renderer:O,result:t,astroId:k,props:y,attrs:w},p);N&&"development"===process.env.NODE_ENV&&(U.props["server-render-time"]=N);let L=[];if(v){if(Object.keys(E).length>0)for(const t of Object.keys(E)){let e=O?.ssr?.supportsAstroStaticSlot?p.hydrate?"astro-slot":"astro-static-slot":"astro-slot",r="default"===t?`<${e}>`:`<${e} name="${t}">`;v.includes(r)||L.push(t)}}else L=Object.keys(E);const D=L.length>0?L.map((t=>`<template data-astro-template${"default"!==t?`="${t}"`:""}>${E[t]}</template>`)).join(""):"";return U.children=`${v??""}${D}`,U.children&&(U.props["await-children"]="",U.children+="\x3c!--astro:end--\x3e"),{render(t){if(j)for(const e of j)t.write(e);t.write(C({type:"directive",hydration:f})),"only"!==f.directive&&O?.ssr.renderHydrationScript&&t.write(C({type:"renderer-hydration-script",rendererName:O.name,render:O.ssr.renderHydrationScript}));const e=z("astro-island",U,!1);t.write(A(e))}}})(e,o,d,u,p).catch(m));var f;function m(t){if(e.cancelled)return{render(){}};throw t}}"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_".split("").reduce(((t,e)=>(t[e.charCodeAt(0)]=e,t)),[]),"-0123456789_".split("").reduce(((t,e)=>(t[e.charCodeAt(0)]=e,t)),[]);const Ot=async(t,e)=>{const r=await e();return r.headers.set("X-Astro-Noop","true"),r};function Nt(t){return{route:t.route,type:t.type,pattern:new RegExp(t.pattern),params:t.params,component:t.component,generate:(e=t.segments,r=t._meta.trailingSlash,t=>{const n=(function(t){return Object.fromEntries(Object.entries(t).map((([t,e])=>"string"==typeof e?[t,e.normalize().replace(/#/g,"%23").replace(/\?/g,"%3F")]:[t,e])))})(t);let o="";return"always"===r&&e.length&&(o="/"),e.map((t=>(function(t,e){const r=t.map((t=>(function(t,e){if(t.spread)return e[t.content.slice(3)]||"";if(t.dynamic){if(!e[t.content])throw new TypeError(`Missing parameter: ${t.content}`);return e[t.content]}return t.content.normalize().replace(/\?/g,"%3F").replace(/#/g,"%23").replace(/%5B/g,"[").replace(/%5D/g,"]")})(t,e))).join("");return r?"/"+r:""})(t,n))).join("")+o||"/"}),pathname:t.pathname||void 0,segments:t.segments,prerender:t.prerender,redirect:t.redirect,redirectRoute:t.redirectRoute?Nt(t.redirectRoute):void 0,fallbackRoutes:t.fallbackRoutes.map((t=>Nt(t))),isIndex:t.isIndex};var e,r}function kt(t){const e=[];for(const r of t.routes)e.push({...r,routeData:Nt(r.routeData)}),r.routeData=Nt(r.routeData);const r=new Set(t.assets),n=new Map(t.componentMetadata),s=new Map(t.inlinedScripts),i=new Map(t.clientDirectives),a=new Map(t.serverIslandNameMap),c=(async function(t){const e=o(t);return crypto.subtle.importKey("raw",e,bt,!0,["encrypt","decrypt"])})(t.key);return{middleware:()=>({onRequest:Ot}),...t,assets:r,componentMetadata:n,inlinedScripts:s,clientDirectives:i,routes:e,serverIslandNameMap:a,key:c}}Object.entries({BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,TIMEOUT:405,CONFLICT:409,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,UNSUPPORTED_MEDIA_TYPE:415,UNPROCESSABLE_CONTENT:422,TOO_MANY_REQUESTS:429,CLIENT_CLOSED_REQUEST:499,INTERNAL_SERVER_ERROR:500}).reduce(((t,[e,r])=>({...t,[r]:e})),{});export{y as a,at as b,m as c,q as d,Ct as e,tt as f,kt as g,et as m,ot as r,E as u};